<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
   PUBLIC "-//mybatis.org//DTD Mapper 3.0/EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
   
<mapper namespace="com.mycom.euum.goodsQNA.mapper.GoodsQNAMapper">

   <!-- 상품문의글 리스트 -->
  <select id="goodsQNAList" resultType="com.mycom.euum.goodsQNA.bean.GoodsQNABean">		
     <![CDATA[
		SELECT GOODS_QNA_NUM, MEMBER_NUM,GOODS_QNA_TITLE, GOODS_QNA_COMMENT,
		       GOODS_QNA_WRITER, GOODS_QNA_REGDATE, GOODS_QNA_CONTENT
              FROM(SELECT * FROM GOODS_QNA_TBL WHERE GOODS_QNA_DELETE='N')
	 ]]>		   
  </select>

  <!-- 상품문의글 등록 -->
  <insert id="goodsQNAInsert" parameterType="com.mycom.euum.goodsQNA.bean.GoodsQNABean">
        <![CDATA[       
		INSERT INTO GOODS_QNA_TBL (GOODS_QNA_NUM, GOODS_NUM,
		       MEMBER_NUM, GOODS_QNA_WRITER, GOODS_QNA_TITLE, GOODS_QNA_CONTENT)
            VALUES (GOODS_QNA_NUM_SEQ.NEXTVAL, #{goodsNum}, #{memberNum},
                    #{goodsQNAWriter}, #{goodsQNATitle}, #{goodsQNAContent})     
        ]]>	
  </insert> 
  
  <!-- 상품문의 답변-->
   <update id="insertGqnaComment" parameterType="com.mycom.euum.goodsQNA.bean.GoodsQNABean">
        <![CDATA[       
		UPDATE GOODS_QNA_TBL 
		SET GOODS_QNA_COMMENT = #{goodsQNAComment}
		WHERE GOODS_QNA_NUM = #{goodsQNANum}
        ]]>	
  </update> 


</mapper>   